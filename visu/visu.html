<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>M2P Visu</title>
	<script src="Chart.js"></script>
	<script src="jquery-3.2.1.min.js"></script>
</head>
<body>
<style>
div.ex2 {
    /*height: 1000px;
    width: 100%;*/
}
</style>
<div class="ex2">
<canvas id="MarketChart"></canvas>
</div>
<div class="ex2">
<canvas id="MarketChart2"></canvas>
</div>
<script>
$.getJSON("https://poloniex.com/public?command=returnChartData&currencyPair=BTC_ETH&start=1494598800&end=1494874800&period=1800", function(json) { // 8hrs_now
//$.getJSON("https://poloniex.com/public?command=returnChartData&currencyPair=BTC_ETH&start=1494525600&end=1494584400&period=300", function(json) { // 16hrs + 2 datapoints
//$.getJSON("https://poloniex.com/public?command=returnChartData&currencyPair=BTC_ETH&start=1494525600&end=1494555000&period=300", function(json) { // 8hrs + 2 datapoints
	var tradingData = json;
	
	var chartData = [];
	var chartData2 = [];
	console.log(tradingData.length);
	for (var i = 0; i < tradingData.length; i++)
	{		
		var obj = tradingData[i];
		// Delta
		chartData.push({x: obj.date, y: obj.close - obj.open});
		chartData2.push({x: obj.date, y: obj.close});
		
		// Absolute
		//chartData.push({x: obj.date, y: obj.close});
	}


	var ctx = document.getElementById("MarketChart");
	var scatterChart = new Chart(ctx, {
		type: 'line',
		data: {
			datasets: [{
				label: 'Price Delta',
				data: chartData
			}]
		},
		options: {
			scales: {
				xAxes: [{
					type: 'linear',
					position: 'bottom'
				}]
			}
		}
	});
	
	var ctx2 = document.getElementById("MarketChart2");
	var scatterChart = new Chart(ctx2, {
		type: 'line',
		data: {
			datasets: [{
				label: 'Closing Price',
				data: chartData2
			}]
		},
		options: {
			scales: {
				xAxes: [{
					type: 'linear',
					position: 'bottom'
				}]
			}
		}
	});
});
</script>
</body>
</html>